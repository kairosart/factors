{% extends "base.html" %}



{% block content %}
    <legend>Start Values Form</legend>
    {% if error %}
		<div class="card text-white  bg-danger mb-3" style="">
		  <div class="card-header">ERROR</div>
		  <div class="card-body">
			<h4 class="card-title">Downloading data.</h4>
			<button id="submitButton" class="btn btn-primary btn-lg btn-block" onclick="location.href = 'form';">Try again. </button>
		  </div>
		</div>
    {% else %}
        <br>
        <div class="card border-primary mb-3" >
          <div class="card-header">Start values</div>
          <div class="card-body">
            <h4 class="card-title"></h4>
            <p class="card-text">Introduce your porfolio initial values.</p>
          </div>
        </div>


          {% for message in form.start_val.errors %}
             <div>{{ message }}</div>
          {% endfor %}

          {% for message in form.symbol.errors %}
             <div>{{ message }}</div>
          {% endfor %}

          {% for message in form.num_shares.errors %}
             <div>{{ message }}</div>
          {% endfor %}



          <form id="form" class="form" action = "/showvalues" method = post>
             <fieldset>

                {{ form.hidden_tag() }}

                <div class="form-group">
                    {{ form.csrf_token }}<br>
                    {{ form.start_val.label }} {{ form.start_val(class_="form-control", size=10, value=100000) }} <br>

                    {{ form.symbol.label }}<br>
                    <select name="ticker_select" class="custom-select">
                        {% for key,value in data.iterrows() %}
                              <option value="{{ value['Symbol'] }}">{{ value['Symbol'] }}</option>
                        {% endfor %}
                    </select>
                    <br><br>

                    {{ form.commission.label }} {{ form.commission(class_="form-control", size=4, value=0.00) }}<br>

                    {{ form.impact.label }} {{ form.impact(class_="form-control", size=4, value=0.00) }}<br>

                    {{ form.num_shares.label }} {{ form.num_shares(class_="form-control", size=10, value=1000) }}<br>

                    {{ form.forecast.label }} {{ form.forecast }}
                   <br>
                    {{ form.submit(class_="btn btn-primary btn-lg btn-block", id="submitButton") }}

                </div>

             </fieldset>
          </form>
    {% endif %}

<div>
  {% include "footer.html" %}
</div>

{% endblock %}
