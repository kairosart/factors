{% extends "base.html" %}



{% block content %}
    <legend>Forecastin prices Form</legend>
    {% if error %}
		<div class="card text-white  bg-danger mb-3" style="">
		  <div class="card-header">ERROR</div>
		  <div class="card-body">
			<h4 class="card-title">Downloading data.</h4>
			<button id="submitButton" class="btn btn-primary btn-lg btn-block" onclick="location.href = 'form';">Try again. </button>
		  </div>
		</div>
    {% else %}
        <br>
        <div class="card border-primary mb-3" >
          <div class="card-header">Start values</div>
          <div class="card-body">
            <h4 class="card-title"></h4>
            <p class="card-text">Introduce initial options.</p>
          </div>
        </div>


          {% for message in form.forecastDate.errors %}
             <div>{{ message }}</div>
          {% endfor %}




          <form id="form" class="form" action = "/showforecastform" method = post>
             <fieldset>

                {{ form.hidden_tag() }}

                <div class="form-group">
                    {{ form.csrf_token }}<br>
                    {{ form.forecastDate.label }} {{ form.forecastDate(class_="form-control") }} <br>

                    {{ form.symbol.label }}<br>
                    <select name="ticker_select" class="custom-select">
                        {% for key,value in data.iterrows() %}
                              <option value="{{ value['Symbol'] }}">{{ value['Symbol'] }}</option>
                        {% endfor %}
                    </select>
                    <br><br>


                    {{ form.modelSelection.label }}<br>
                    <select name="model_Selection" class="custom-select">
                         <option value=1>Decision Tree</option>
                    </select>
                    <br><br>
                    {{ form.forecastType.label }}<br>
                    <select name="forecast_Type" class="custom-select">
                        <option value=1>One week</option>
                        <option value=2>Two weeks</option>
                        <option value=3>1 month</option>
                    </select>
                    <br><br>

                    {{ form.lookback.label }}<br>
                    <select name="look_Back" class="custom-select">
                        <option value=1>One months</option>
                        <option value=2>Three months</option>
                        <option value=3>Six months</option>
                    </select>
                    <br><br>
                    {{ form.submit(class_="btn btn-primary btn-lg btn-block", id="submitButton") }}

                </div>

             </fieldset>
          </form>
    {% endif %}

<div>
  {% include "footer.html" %}
</div>

{% endblock %}
